<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      QtWebEngine-5.12.1
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-8.4">
    <div class="navheader">
      <h4>
        Au-delà&nbsp;de Linux<sup>®</sup> From Scratch - Version 8.4
      </h4>
      <h3>
        Chapitre&nbsp;25.&nbsp;Bibliothèques X
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="qt5.html" title="Qt-5.12.1">Précédent</a>
          <p>
            Qt-5.12.1
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="startup-notification.html" title=
          "startup-notification-0.12">Suivant</a>
          <p>
            startup-notification-0.12
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="lib.html" title=
          "Chapitre&nbsp;25.&nbsp;Bibliothèques X">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà&nbsp;de Linux® From Scratch - Version 8.4">Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="qtwebengine" name="qtwebengine"></a>QtWebEngine-5.12.1
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à QtWebEngine
        </h2>
        <p>
          <span class="application">QtWebEngine</span> intègre les
          composantes web de <span class="application">chromium</span> dans
          Qt. Il contient sa propre copie de ninja qu'il utilise lors de la
          construction s'il ne peut pas trouver une copie sur le système, et
          diverses copies de bibliothèques de ffmpeg, icu, libvpx et zlib
          (dont libminizip) qui ont été forkées par les développeurs de
          <span class="application">chromium</span>.
        </p>
        <p>
          Ce paquet est connu pour se construire correctement sur une
          plateforme LFS-8.4.
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Par défaut, ninja utilisera tous les CPU actifs + 2 (si au moins
            4 existent), même s'ils ne sont pas disponibles pour la tâche
            actuelle parce que le terminal a été restreint avec
            «&nbsp;taskset&nbsp;». Pour éviter cela, voir les explications
            des commandes ci-dessous.
          </p>
          <p>
            De manière inhabituelle, le système de construction GN intégré
            (utilisé pour créer les fichiers Ninja) a besoin d'une version
            statique de <code class="filename">libstdc++.a</code> bien que
            les bibliothèque installées utilisent bien la version partagée.
            Si cette bibliothèque statique n'est pas présente, la
            construction échouera rapidement. Remarquez que si vous essayez
            de construire webengine en tant que partie de <span class=
            "application">Qt</span> et que la bibliothèque statique n'est pas
            disponible, cette construction terminera sans installer webengine
            ou échouera pendant l'installation (les deux comportements ont
            été observés en 5.12.0).
          </p>
        </div>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "https://download.qt.io/archive/qt/5.12/5.12.1/submodules/qtwebengine-everywhere-src-5.12.1.tar.xz">
                https://download.qt.io/archive/qt/5.12/5.12.1/submodules/qtwebengine-everywhere-src-5.12.1.tar.xz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                516c70f4f5ef8f4d0462425735f4ff47
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 238 Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 3.3 Go (134 Mo
                installés)
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: 60 SBU (avec 4
                cœurs)
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Dépendances de qtwebengine
        </h3>
        <h4>
          Requises
        </h4>
        <p class="required">
          <a class="xref" href="../postlfs/nss.html" title=
          "NSS-3.42.1">NSS-3.42.1</a>, <a class="xref" href=
          "../general/python2.html" title="Python-2.7.15">Python-2.7.15</a>
          et <a class="xref" href="qt5.html" title="Qt-5.12.1">Qt-5.12.1</a>
        </p>
        <h4>
          Recommandées
        </h4>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Si ces paquets ne sont pas installés, le processus de
            construction compilera et installera ses propres (sans doute plus
            vieilles) versions, avec pour effet d'augmenter l'espace disque
            utilisé et le temps pris par la construction et l'installation.
          </p>
        </div>
        <p class="recommended">
          soit <a class="xref" href="../multimedia/alsa-lib.html" title=
          "alsa-lib-1.1.8">alsa-lib-1.1.8</a> soit <a class="xref" href=
          "../multimedia/pulseaudio.html" title=
          "PulseAudio-12.2">PulseAudio-12.2</a> (ou les deux), <a class=
          "xref" href="../multimedia/ffmpeg.html" title=
          "FFmpeg-4.1.1">FFmpeg-4.1.1</a>, <a class="xref" href=
          "../general/icu.html" title="ICU-63.1">ICU-63.1</a>, <a class=
          "xref" href="../general/libwebp.html" title=
          "libwebp-1.0.2">libwebp-1.0.2</a>, <a class="xref" href=
          "../general/libxslt.html" title="libxslt-1.1.33">libxslt-1.1.33</a>
          et <a class="xref" href="../multimedia/opus.html" title=
          "Opus-1.3">Opus-1.3</a>
        </p>
        <h4>
          Facultatives
        </h4>
        <p class="optional">
          <a class="xref" href="../basicnet/libevent.html" title=
          "libevent-2.1.8">libevent-2.1.8</a>, <a class="ulink" href=
          "https://github.com/open-source-parsers/jsoncpp/releases">jsoncpp</a>,
          <a class="ulink" href=
          "https://github.com/cisco/libsrtp/releases">libsrtp</a>, <a class=
          "ulink" href="http://google.github.io/snappy/">snappy</a>
        </p>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/qtwebengine">http://wiki.linuxfromscratch.org/blfs/wiki/qtwebengine</a>
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de qtwebengine
        </h2>
        <p>
          Tout d'abord assurez-vous que les en-têtes locaux sont disponibles
          lorsque vous ne construisez pas ce paquet en tant que partie de
          <a class="xref" href="qt5.html" title=
          "Qt-5.12.1">Qt-5.12.1</a>&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">find -type f -name "*.pr[io]" |
  xargs sed -i -e 's|INCLUDEPATH += |&amp;$$QTWEBENGINE_ROOT/include |'</kbd></pre>
        <p>
          Si une version plus ancienne de la bibliothèque principale de ce
          paquet est installée et si vous construisez ce paquet séparément,
          il se liera à celle-ci plutôt que sa propre version pas encore
          installée, et échouera à cause de symboles manquants. Évitez cela,
          en tant qu'utilisateur <code class="systemitem">root</code>, en
          déplaçant le lien symbolique&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">mv -v ${QT5DIR}/lib/libQtWebEngineCore.so{,.old}</kbd></pre>
        <p>
          Installez <span class="application">qtwebengine</span> en lançant
          les commandes suivantes&nbsp;:
        </p>
        <pre class="userinput"><kbd class="command">mkdir build &amp;&amp;
cd    build &amp;&amp;

qmake .. -- -system-ffmpeg -webengine-icu &amp;&amp;
make</kbd></pre>
        <p>
          Ce paquet n'est pas fourni avec une suite de tests.
        </p>
        <p>
          Maintenant, en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class="command">make install</kbd></pre>
        <p>
          Supprimez les références au répertoire de construction dans les
          bibliothèques de dépendances (prl) installées en lançant les
          commandes suivantes en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class="command">find $QT5DIR/ -name \*.prl \
   -exec sed -i -e '/^QMAKE_PRL_BUILD_DIR/d' {} \;</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <span class="command"><strong>qmake</strong></span>&nbsp;: Ceci
          construira la copie embarquée de <span class=
          "application">ninja</span> si elle n'est pas déjà installée et
          l'utilisera pour configurer la construction.
        </p>
        <p>
          <span class="command"><strong>-- -system-ffmpeg
          -webengine-icu</strong></span>&nbsp;: Si des options sont passées à
          qmake elles doivent apparaître après «&nbsp;--&nbsp;» qui doit
          suivre les «&nbsp;..&nbsp;» qui pointent vers le répertoire
          principal. Les options lui font utiliser les paquets ffmpeg et icu
          du système. Si vous le construisez en tant que partie de Qt5, le
          paquet icu du système est automatiquement utilisé (seulement) par
          Qt5Core s'il est disponible, mais à moins que vous utilisiez cette
          option webengine utilisera toujours la copie incluse de icu, ce qui
          demande plus de temps et d'espace pour la construction.
        </p>
        <p>
          <code class="option">NINJAJOBS=4 make</code>&nbsp;: Si vous avez
          corrigé le ninja du système dans LFS pour qu'il reconnaisse la
          variable d'environnement NINJAJOBS, cette commande lancer le ninja
          du système avec le nombre de travaux spécifiées (c.-à-d. 4). Il y a
          plusieurs raisons pour lesquelles vous pourriez vouloir faire
          cela&nbsp;:
        </p>
        <div class="itemizedlist">
          <ul>
            <li class="listitem">
              <p>
                Construire sur un sous-ensemble des CPU permet de mesurer le
                temps de construction pour ce nombre de processeurs et de
                lancer d'autres tâches gourmandes en CPU sur les autres
                cœurs.
              </p>
            </li>
            <li class="listitem">
              <p>
                Pour améliorer la vitesse de construction sur les machines
                moins bien dotées à 4 cœurs. Sur une machine avec un CPU
                puissant et beaucoup de RAM, N+2 travaux (par défaut avec
                ninja quand la machine a au moins 4 cœurs) pour le très grand
                nombre de fichiers C++ compilés dans ce paquet n'est
                typiquement que légèrement plus rapide que de lancer N
                travaux en même temps. Mais pour une machine avec moins de
                mémoire, cela peut être beaucoup plus lent.
              </p>
            </li>
            <li class="listitem">
              <p>
                Réduire le nombre de cœurs utilisé pour des paquets gourmands
                en CPU pendant un long moment peut atténuer des problèmes de
                température.
              </p>
            </li>
          </ul>
        </div>
      </div>
      <div class="configuration" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Configuration de QtWebEngine
        </h2>
        <div class="sect3">
          <h3 class="sect3">
            <a id="qtwebengine-config" name=
            "qtwebengine-config"></a>Informations sur la configuration
          </h3>
          <p>
            Si vous mettez à jour depuis une version mineur plus ancienne de
            cette application, vous devrez nettoyer le cache du <span class=
            "emphasis"><em>navigateur</em></span> pour que certaines pages
            fonctionnent, p. ex. pour <span class="application">falkon</span>
            ce sera dans <code class="filename">~/.cache/falkon/</code>. vous
            devrez le faire si le navigateur commence à rendre la page puis
            se change en un onglet vide avec un message disant que quelque
            chose s'est mal passé, et un bouton pour réessayer. Même après
            avoir supprimé l'ancien cache, vous pourriez avoir besoin de
            réessayer plusieurs fois pour chaque onglet affecté.
          </p>
        </div>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">qtwebengine_convert_dict et
              QtWebEngineProcess</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèques installées:</strong>
              <span class="segbody">libQt5WebEngineCore.so,
              libQt5WebEngine.so et libQt5WebEngineWidgets.so</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoires installés:</strong>
              <span class="segbody">$QT5PREFIX/doc/qtwebengine,
              $QT5PREFIX/includeQtWebEngine,
              $QT5PREFIX/include/QtWebEngineCore et
              $QT5PREFIX/include/QtWebEngineWidgets</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="qtwebengine_convert_dict" name=
                    "qtwebengine_convert_dict"></a><span class=
                    "term"><span class=
                    "command"><strong>qtwebengine_convert_dict</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    converti les dictionnaires hunspell (<code class=
                    "literal">.dic</code>) au format chromium (<code class=
                    "literal">.bdic</code>)
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="QtWebEngineProcess" name=
                    "QtWebEngineProcess"></a><span class="term"><span class=
                    "command"><strong>QtWebEngineProcess</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un programme libexec qui lance un processus zygote
                    (qui écoute les requêtes de spawn d'un processus maître
                    et se fork en réponse).
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libQtWebEngine-lib" name=
                    "libQtWebEngine-lib"></a><span class="term"><code class=
                    "filename">libQtWebEngine.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    fournit des types QML pour présenter du contenu web dans
                    une application QML.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libQtWebEngineCore" name=
                    "libQtWebEngineCore"></a><span class="term"><code class=
                    "filename">libQtWebEngineCore.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    fournit l'API publique partagée par QtWebEngine et
                    QtWebEngineWidgets.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libQtWebEngineWidgets" name=
                    "libQtWebEngineWidgets"></a><span class=
                    "term"><code class=
                    "filename">libQtWebEngineWidgets.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    fournit un moteur de navigateur web ainsi que des classes
                    C++ pour présenter et interagir avec du contenu web.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2019-02-19 20:13:13 +0000
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="qt5.html" title="Qt-5.12.1">Précédent</a>
          <p>
            Qt-5.12.1
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="startup-notification.html" title=
          "startup-notification-0.12">Suivant</a>
          <p>
            startup-notification-0.12
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="lib.html" title=
          "Chapitre&nbsp;25.&nbsp;Bibliothèques X">Niveau supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà&nbsp;de Linux® From Scratch - Version 8.4">Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
