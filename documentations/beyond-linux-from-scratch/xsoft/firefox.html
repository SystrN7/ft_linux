<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      Firefox-65.0.1
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-8.4">
    <div class="navheader">
      <h4>
        Au-delà&nbsp;de Linux<sup>®</sup> From Scratch - Version 8.4
      </h4>
      <h3>
        Chapitre&nbsp;40.&nbsp;Navigateurs Internet graphiques
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="falkon.html" title=
          "Falkon-3.0.1">Précédent</a>
          <p>
            Falkon-3.0.1
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="seamonkey.html" title=
          "SeaMonkey-2.49.4">Suivant</a>
          <p>
            SeaMonkey-2.49.4
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="graphweb.html" title=
          "Chapitre&nbsp;40.&nbsp;Navigateurs Internet graphiques">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà&nbsp;de Linux® From Scratch - Version 8.4">Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="firefox" name="firefox"></a>Firefox-65.0.1
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à Firefox
        </h2>
        <p>
          <span class="application">Firefox</span> est un navigateur autonome
          basé sur la base de code de <span class=
          "application">Mozilla</span>.
        </p>
        <p>
          Ce paquet est connu pour se construire correctement sur une
          plateforme LFS-8.4.
        </p>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "https://archive.mozilla.org/pub/firefox/releases/65.0.1/source/firefox-65.0.1.source.tar.xz">
                https://archive.mozilla.org/pub/firefox/releases/65.0.1/source/firefox-65.0.1.source.tar.xz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                38c01a14e58cce894dda513739bd15d3
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 264 Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 9.4 Go (148 Mo
                installés) sans les tests
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: 31 SBU (avec
                parallélisme=4) sans les tests
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Téléchargements supplémentaires
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Correctif facultatif pour permettre les versions du système
                de <a class="xref" href="../general/graphite2.html" title=
                "Graphite2-1.3.13">Graphite2-1.3.13</a> et <a class="xref"
                href="../general/harfbuzz.html" title=
                "HarfBuzz-2.3.1">HarfBuzz-2.3.1</a>&nbsp;: <a class="ulink"
                href=
                "http://www.linuxfromscratch.org/patches/blfs/8.4/firefox-65.0.1-system_graphite2_harfbuzz-1.patch">
                http://www.linuxfromscratch.org/patches/blfs/8.4/firefox-65.0.1-system_graphite2_harfbuzz-1.patch</a>
              </p>
            </li>
          </ul>
        </div>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            L'extraction de l'archive réinitialisera les permissions du
            répertoire courant à 0755 si vous avez la permission de faire
            cela. Si vous le faites dans un répertoire où le droit sticky est
            activé, comme <code class="filename">/tmp</code> l'opération se
            terminera avec les messages d'erreur&nbsp;:
          </p>
          <div class="literallayout">
            <p>
              tar:&nbsp;.:&nbsp;Cannot&nbsp;utime:&nbsp;Operation&nbsp;not&nbsp;permitted<br />

              tar:&nbsp;.:&nbsp;Cannot&nbsp;change&nbsp;mode&nbsp;to&nbsp;rwxr-xr-t:&nbsp;Operation&nbsp;not&nbsp;permitted<br />

              tar:&nbsp;Exiting&nbsp;with&nbsp;failure&nbsp;status&nbsp;due&nbsp;to&nbsp;previous&nbsp;errors<br />
            </p>
          </div>
          <p>
            Elle termine avec un statut différent de zéro, mais cela ne
            signifie <span class="emphasis"><em>PAS</em></span> qu'il y a un
            vrai problème. Ne décompressez pas en tant que <code class=
            "systemitem">root</code> dans un répertoire où le droit sticky
            est activé - cela le désactiverait.
          </p>
          <p>
            Comme avec les autres gros paquets qui utilisent C++ (ou rust),
            le temps en SBU pour le construire peut varier plus grandement
            que vous ne vous y attendez. Aussi, l'édition de lien finale
            utilise presque 6&nbsp;Go de mémoire réelle et les SBU peuvent
            augmenter significativement si la machine doit utiliser l'espace
            d'échange pour cela.
          </p>
          <p>
            Le système de construction mach (scripts Python) peut être assez
            peu fiable&nbsp;: si la construction échoue et rapporte une
            erreur, elle peut quand même renvoyer un status de réussite, ce
            qui fait que les constructions scriptées essayent de l'installer
            (qui ne relance pas la construction), échouent lors de la
            préparation de l'installation mais quittent quand même avec un
            status de réussite. En plus, parfois il se limite à ne lancer
            qu'un seul ensemble de taches —&nbsp;ce qui rend la construction
            environ 3 fois plus longue qu'avec quatre ensembles de taches.
          </p>
          <p>
            Bien qu'en amont on préfère utiliser <span class=
            "application">PulseAudio</span>, pour le moment <span class=
            "application">Alsa</span> peut toujours être utilisé. Les deux
            ont besoin de configuration à l'exécution pour que le son
            fonctionne.
          </p>
        </div>
        <h3>
          Dépendances de Firefox
        </h3>
        <h4>
          Requises
        </h4>
        <p class="required">
          <a class="xref" href="../general/autoconf213.html" title=
          "Autoconf2.13">Autoconf-2.13</a>, <a class="xref" href=
          "../general/cbindgen.html" title=
          "Cbindgen-0.8.0">Cbindgen-0.8.0</a>, <span class=
          "application">Clang</span> (de <a class="xref" href=
          "../general/llvm.html" title="LLVM-7.0.1">LLVM-7.0.1</a>) à la fois
          <a class="xref" href="../x/gtk3.html" title=
          "GTK+-3.24.5">GTK+-3.24.5</a> et <a class="xref" href=
          "../x/gtk2.html" title="GTK+-2.24.32">GTK+-2.24.32</a>, <a class=
          "xref" href="../x/libnotify.html" title=
          "libnotify-0.7.7">libnotify-0.7.7</a>, <a class="xref" href=
          "../general/nodejs.html" title=
          "Node.js-10.15.1">nodejs-10.15.1</a>, <a class="xref" href=
          "../postlfs/nss.html" title="NSS-3.42.1">NSS-3.42.1</a>, <a class=
          "xref" href="../multimedia/pulseaudio.html" title=
          "PulseAudio-12.2">PulseAudio-12.2</a> (ou <a class="xref" href=
          "../multimedia/alsa-lib.html" title=
          "alsa-lib-1.1.8">alsa-lib-1.1.8</a> si vous modifiez le mozconfig;
          maintenant rendu obsolète par mozilla), dans les deux cas veuillez
          lire les informations de configuration, <a class="xref" href=
          "../general/rust.html" title="Rustc-1.32.0">rustc-1.32.0</a>,
          <a class="xref" href="../general/unzip.html" title=
          "UnZip-6.0">UnZip-6.0</a>, <a class="xref" href=
          "../general/yasm.html" title="yasm-1.3.0">yasm-1.3.0</a> et
          <a class="xref" href="../general/zip.html" title=
          "Zip-3.0">Zip-3.0</a>
        </p>
        <h4>
          Recommandées
        </h4>
        <p class="recommended">
          <a class="xref" href="../general/icu.html" title=
          "ICU-63.1">ICU-63.1</a>, <a class="xref" href=
          "../basicnet/libevent.html" title=
          "libevent-2.1.8">libevent-2.1.8</a>, <a class="xref" href=
          "../general/libwebp.html" title="libwebp-1.0.2">libwebp-1.0.2</a>
          et <a class="xref" href="../server/sqlite.html" title=
          "SQLite-3.27.1">SQLite-3.27.1</a>
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Si vous n'installez pas les dépendances recommandées, alors les
            versions internes de ces paquets seront utilisés. Elles peuvent
            être testées pour fonctionner, mais elles peuvent être dépassées
            ou contenir des trous de sécurité.
          </p>
        </div>
        <h4>
          Facultatives
        </h4>
        <p class="optional">
          <a class="xref" href="../basicnet/curl.html" title=
          "cURL-7.64.0">cURL-7.64.0</a>, <a class="xref" href=
          "../general/dbus-glib.html" title=
          "dbus-glib-0.110">dbus-glib-0.110</a>, <a class="xref" href=
          "../general/doxygen.html" title=
          "Doxygen-1.8.15">Doxygen-1.8.15</a>, <a class="xref" href=
          "../gnome/GConf.html" title="GConf-3.2.6">GConf-3.2.6</a>,
          <a class="xref" href="../multimedia/ffmpeg.html" title=
          "FFmpeg-4.1.1">FFmpeg-4.1.1</a> (à l'exécution, pour jouer des
          fichiers mov, mp3 ou mp4), <a class="xref" href=
          "../postlfs/liboauth.html" title=
          "liboauth-1.0.3">liboauth-1.0.3</a>, <a class="xref" href=
          "../general/openjdk.html" title=
          "OpenJDK-11.0.2">OpenJDK-11.0.2</a>, <a class="xref" href=
          "../x/startup-notification.html" title=
          "startup-notification-0.12">startup-notification-0.12</a>,
          <a class="xref" href="../general/valgrind.html" title=
          "Valgrind-3.14.0">Valgrind-3.14.0</a>, <a class="xref" href=
          "../basicnet/wget.html" title="Wget-1.20.1">Wget-1.20.1</a>,
          <a class="xref" href="../basicnet/wireless_tools.html" title=
          "Wireless Tools-29">Wireless Tools-29</a>, <a class="ulink" href=
          "https://github.com/libproxy/libproxy">libproxy</a> et (avec le
          correctif) <a class="xref" href="../general/graphite2.html" title=
          "Graphite2-1.3.13">Graphite2-1.3.13</a> et <a class="xref" href=
          "../general/harfbuzz.html" title=
          "HarfBuzz-2.3.1">HarfBuzz-2.3.1</a>
        </p>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/firefox">http://wiki.linuxfromscratch.org/blfs/wiki/firefox</a>
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de Firefox
        </h2>
        <p>
          La configuration de <span class="application">Firefox</span> se
          fait en créant un fichier <code class="filename">mozconfig</code>
          contenant les options de configuration désirées. Un <code class=
          "filename">mozconfig</code> par défaut est créé ci-dessous. Pour
          voir toute la liste des options de configuration disponibles, (et
          une description abrégée de chacune), faites <span class=
          "command"><strong>./mach configure &amp;&amp; ./configure --help |
          less</strong></span>. Il se peut que vous vouliez aussi relire tout
          le fichier et dé-commenter les autres options souhaitées. Créez le
          fichier en tapant la commande suivante&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">cat &gt; mozconfig &lt;&lt; "EOF"
<code class=
"literal"># If you have a multicore machine, all cores will be used by default.

# If you have installed dbus-glib, comment out this line:
ac_add_options --disable-dbus

# If you have installed dbus-glib, and you have installed (or will install)
# wireless-tools, and you wish to use geolocation web services, comment out
# this line
ac_add_options --disable-necko-wifi

# API Keys for geolocation APIs - necko-wifi (above) is required for MLS
# Uncomment the following line if you wish to use Mozilla Location Service
#ac_add_options --with-mozilla-api-keyfile=$PWD/mozilla-key

# Uncomment the following line if you wish to use Google's geolocaton API
# (needed for use with saved maps with Google Maps)
#ac_add_options --with-google-api-keyfile=$PWD/google-key

# Uncomment this line if you have installed startup-notification:
#ac_add_options --enable-startup-notification

# Uncomment the following option if you have not installed PulseAudio
#ac_add_options --disable-pulseaudio
# and uncomment this if you installed alsa-lib instead of PulseAudio
#ac_add_options --enable-alsa

# If you have installed GConf, comment out this line
ac_add_options --disable-gconf

# From firefox-61, the stylo CSS code can no-longer be disabled

# Comment out following options if you have not installed
# recommended dependencies:
ac_add_options --enable-system-sqlite
ac_add_options --with-system-libevent
# current firefox fails to build against libvpx-1.8.0
#ac_add_options --with-system-libvpx
# firefox-65 understands webp and ships with an included copy
ac_add_options --with-system-webp
ac_add_options --with-system-nspr
ac_add_options --with-system-nss
ac_add_options --with-system-icu

# The gold linker is no-longer the default
ac_add_options --enable-linker=gold

# You cannot distribute the binary if you do this
ac_add_options --enable-official-branding

# If you are going to apply the patch for system graphite
# and system harfbuzz, uncomment these lines:
#ac_add_options --with-system-graphite2
#ac_add_options --with-system-harfbuzz

# Stripping is now enabled by default.
# Uncomment these lines if you need to run a debugger:
#ac_add_options --disable-strip
#ac_add_options --disable-install-strip

# The BLFS editors recommend not changing anything below this line:
ac_add_options --prefix=/usr
ac_add_options --enable-application=browser

ac_add_options --disable-crashreporter
ac_add_options --disable-updater
# enabling the tests will use a lot more space and significantly
# increase the build time, for no obvious benefit.
ac_add_options --disable-tests

# With clang, unlike gcc-7 and later, the default level
# of optimization produces a working build.
ac_add_options --enable-optimize

# From firefox-61 system cairo is not supported

ac_add_options --enable-system-ffi
ac_add_options --enable-system-pixman

# From firefox-62 --with-pthreads is not recognized

ac_add_options --with-system-bz2
ac_add_options --with-system-jpeg
ac_add_options --with-system-png
ac_add_options --with-system-zlib

mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/firefox-build-dir</code>
EOF</kbd></pre>
        <p>
          Compilez <span class="application">Firefox</span> en lançant les
          commandes suivantes&nbsp;:
        </p>
        <p>
          Si vous avez installé les versions du système de graphite2 et
          harfbuzz et souhaitez que firefox les utilise à la place de ses
          versions embarquées, appliquez le correctif et dé-commentez les
          entrées appropriées du fichier <code class=
          "filename">mozconfig</code>.
        </p>
        <pre class="userinput"><kbd class=
        "command">patch -Np1 -i ../firefox-65.0.1-system_graphite2_harfbuzz-1.patch</kbd></pre>
        <p>
          Si les API de géolocalisation sont nécessaires&nbsp;
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Les clefs d'API de Google et Mozilla ci-dessous sont spécifiques
            à LFS. Si vous utilisez ces instructions pour une autre
            distribution, ou si vous avez l'intention de distribuer des
            copies logicielles en utilisant ces directives, obtenez vos
            propres clefs en suivant les instrictions définies respectivement
            <a class="ulink" href=
            "http://www.chromium.org/developers/how-tos/api-keys">http://www.chromium.org/developers/how-tos/api-keys</a>
            et <a class="ulink" href=
            "https://location.services.mozilla.com/api">https://location.services.mozilla.com/api</a>.
          </p>
        </div>
        <pre class="userinput"><kbd class=
        "command">echo "AIzaSyDxKL42zsPjbke5O8_rPVpVrLrJ8aeE9rQ" &gt; google-key
echo "d2284a20-0505-4927-a809-7ffaf4d91e55" &gt; mozilla-key</kbd></pre>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            Si vous compilez <span class="application">Firefox</span> dans un
            chroot, soyez certain d'avoir initialisé la variable
            d'environnement <code class="envar">$SHELL</code> ou passez
            <code class="envar">SHELL=/bin/sh</code>. Assurez-vous aussi que
            <code class="filename">/dev/shm</code> est monté.
          </p>
        </div>
        <p>
          Pour utiliser la version du système de ICU, lancez un sed pour
          éviter un conflit entre l'utilisation de <code class=
          "literal">CheckImpl()</code> de la version amont de ICU dans ses
          en-têtes publics et l'utilisation interne de firefox d'un
          <code class="literal">CheckImpl()</code> différent. Ensuite
          invoquez le script Python2 pour compiler le paquet.
        </p>
        <pre class="userinput"><kbd class=
        "command">sed -e 's/checkImpl/checkFFImpl/g' -i js/src/vm/JSContext*.h &amp;&amp;
export CC=clang CXX=clang++ AR=llvm-ar NM=llvm-nm RANLIB=llvm-ranlib &amp;&amp;
export MOZBUILD_STATE_PATH=${PWD}/mozbuild &amp;&amp;
./mach build</kbd></pre>
        <p>
          Le fichier <code class="filename">mozconfig</code> ci-dessus
          désactive les tests car ils prennent beaucoup plus de temps et
          d'espace disque sans bénéfice évident. Si vous les avez tout de
          même activés, vous pouvez lancer les tests en exécutant
          <span class="command"><strong>./mach gtest</strong></span>. Cela
          requiert une connexion internet et d'être lancé dans un
          environnement Xorg - il y a une boîte de dialogue lorsque la
          connexion à ALSA échoue (ce qui ne fait pas échouer le test). Un ou
          deux tests échoueront. Pour voir les détails des échecs, vous
          devrez enregistrer la sortie de la commande pour pouvoir la revoir.
        </p>
        <p>
          Maintenant, en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">./mach install                                                  &amp;&amp;

mkdir -pv  /usr/lib/mozilla/plugins                             &amp;&amp;
ln    -sfv ../../mozilla/plugins /usr/lib/firefox/browser/</kbd></pre>
        <p>
          Redéfinissez les variables d'environnement à leur valeur
          initiale&nbsp;:
        </p>
        <pre class="userinput"><kbd class=
        "command">unset CC CXX AR NM RANLIB MOZBUILD_STATE_PATH</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <span class="command"><strong>sed -e 's/checkImpl/checkFFImpl/g'
          ...</strong></span>&nbsp;: bien que le paquet contienne une version
          modifiée de <span class="application">ICU-59</span> et ne vérifie
          seulement que la version du système, si elle est demandée, est au
          moins la 59, des changements dans <span class=
          "emphasis"><em>certaines</em></span> versions causent l'échec de la
          construction avec des messages d'erreur de la forme <code class=
          "literal">no void JSContext::checkImpl_NN member function</code> où
          NN est la version de <span class="application">ICU</span> du
          système. Le sed renomme la fonction locale.
        </p>
        <p>
          <span class="command"><strong>export CC=clang CXX=clang++
          ...</strong></span>&nbsp;: <span class="application">clang</span>
          est maintenant utilisé en amont et la construction avec n'importe
          quelle version récente préserve beaucoup d'espace de stockage.
        </p>
        <p>
          <span class="command"><strong>export
          MOZBUILD_STATE_PATH=${PWD}/mowbuild</strong></span>&nbsp;: La
          construction est maintenant supposée vous dire qu'elle souhaite
          créer <code class="filename">~/.mozbuld</code> et vous offre
          l'option d'appuyer sur «&nbsp;ENTRÉE&nbsp;» pour accepter cela, ou
          Ctrl-C pour annuler et recommencer la construction après avoir
          spécifié le répertoire. En pratique, le message peut ne pas
          apparaître après avoir tapé «&nbsp;ENTRÉE&nbsp;», c.-à-d. que la
          construction échoue.
        </p>
        <p>
          Ce répertoire est utilisé pour un identifiant (probablement
          aléatoire) de télémétrie. Créez-le dans le répertoire de
          construction et supprimez-le après l'installation pour éviter qu'il
          ne soit utilisé. Si vous souhaitez participer à la télémétrie,
          exportez MOZBUILD_STATE_PATH et faites-le pointer vers le
          répertoire par défaut.
        </p>
        <p>
          <span class="command"><strong>./mach build</strong></span>&nbsp;:
          <span class="application">Firefox</span> utilise maintenant ce
          script <span class="application">python2</span> pour lancer la
          construction et l'installation.
        </p>
        <p>
          <code class="option">./mach build --verbose</code>&nbsp;: Utilisez
          cette alternative si vous avez besoin de détails sur les fichiers
          qui sont compilés avec les drapeaux C ou C++ utilisés.
        </p>
        <p>
          <code class="option">./mach build -jN</code>&nbsp;: La construction
          devrait, par défaut, utiliser tous les cœurs CPU en ligne. Il y a
          deux raisons pour spécifier le nombre de cœur, p. ex. -j4 pour 4
          cœurs&nbsp;: tout d'abord, si l'utilisation de tous les cœurs fait
          que la construction utilise l'espace d'échange parce que vous
          n'avez pas assez de mémoire (p. ex. pour 4 cœurs la construction
          sans le graphite2 et le harfbuzz du système utilise maintenant un
          peu plus de 8 Go de RAM). Dans ce cas, utiliser moins de cœurs peut
          être plus rapide. Ensuite, sur certaines machines, le milieu de la
          construction peut s'effectuer comme si un seul cœur était présent.
          Dans ces cas, spécifier le nombre de cœurs peut accélérer la
          construction.
        </p>
        <p>
          <span class="command"><strong>mkdir -pv
          /usr/lib/mozilla/plugins</strong></span>&nbsp;: Vérifie que
          <code class="filename">/usr/lib/mozilla/plugins</code> existe.
        </p>
        <p>
          <span class="command"><strong>ln -sv ...
          /usr/lib/firefox/browser</strong></span>&nbsp;: Cette commande crée
          un lien symbolique vers <code class=
          "filename">/usr/lib/mozilla/plugins</code>. Il n'est pas vraiment
          nécessaire, comme <span class="application">Firefox</span> vérifie
          <code class="filename">/usr/lib/mozilla/plugins</code> par défaut,
          mais le lien symbolique est fait pour garder tous les greffons
          installés dans un seul dossier.
        </p>
      </div>
      <div class="configuration" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Configuration de Firefox
        </h2>
        <p>
          Si vous utilisez un environnement de bureau comme <span class=
          "application">Gnome</span> ou <span class="application">KDE</span>
          vous pourriez souhaiter créer un fichier <code class=
          "filename">firefox.desktop</code> pour que <span class=
          "application">Firefox</span> apparaisse dans les menus du bureau.
          Si vous n'avez pas activé startup-notification (notification de
          démarrage) dans votre mozconfig, modifiez la ligne StartupNotify en
          false. En tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class=
        "command">mkdir -pv /usr/share/applications &amp;&amp;
mkdir -pv /usr/share/pixmaps &amp;&amp;

cat &gt; /usr/share/applications/firefox.desktop &lt;&lt; "EOF" &amp;&amp;
<code class="literal">[Desktop Entry]
Encoding=UTF-8
Name=Firefox Web Browser
Comment=Browse the World Wide Web
GenericName=Web Browser
Exec=firefox %u
Terminal=false
Type=Application
Icon=firefox
Categories=GNOME;GTK;Network;WebBrowser;
MimeType=application/xhtml+xml;text/xml;application/xhtml+xml;application/vnd.mozilla.xul+xml;text/mml;x-scheme-handler/http;x-scheme-handler/https;
StartupNotify=true</code>
EOF

ln -sfv /usr/lib/firefox/browser/chrome/icons/default/default128.png \
        /usr/share/pixmaps/firefox.png</kbd></pre>
        <div class="sect3">
          <h3 class="sect3">
            Informations sur la configuration
          </h3>
          <p>
            Les paramètres applicatifs pour firefox sont accessibles en
            entrant <span class=
            "command"><strong>about:config</strong></span> dans la barre
            d'adresse.
          </p>
          <p>
            Avec cette version de <span class="application">firefox</span>,
            le son peut poser problème. Bien qu'en amont pulseaudio soit
            préféré, utiliser <span class="application">Alsa</span> peut être
            plus facile.
          </p>
          <p>
            Si vous avez activé <span class="application">Alsa</span> pour le
            son, vous pourriez avoir besoin de modifier une variable pour
            qu'il fonctionne. Si vous lancez <span class=
            "command"><strong>firefox</strong></span> depuis un terminal et
            essayez de jouer quelque chose avec du son, vous pouvez trouver
            des messages d'erreur tels que&nbsp;:
          </p>
          <p>
            <code class="literal">Sandbox: seccomp sandbox violation: pid
            3941, tid 4030, syscall 16, args 48 2147767296 139909894784796 0
            0 0.</code>
          </p>
          <p>
            C'était sur x86_64, sur i686 le numéro d'appel système est 54.
            Pour permettre cet appel système, dans <span class=
            "command"><strong>about:config</strong></span>, modifiez
            <span class=
            "command"><strong>security.sandbox.content.syscall_whitelist</strong></span>
            à 16 (ou 54 en i686).
          </p>
          <p>
            Si vous utilisez <span class=
            "command"><strong>pulseaudio</strong></span> dans un
            environnement de bureau, il est peut-être déjà démarré par
            celui-ci. Mais si ce n'est pas le cas, bien que firefox-57
            arrivait à le démarrer, firefox-58 n'y arrive pas. Si vous lancez
            <span class="command"><strong>firefox</strong></span> depuis un
            terminal et que ce problème est présent, essayer de jouer un son
            produira des avertissements <code class="literal">Impossible de
            trouver le contexte cubeb !</code>
          </p>
          <p>
            La solution est de fermer firefox, démarrer pluseaudio pour
            vérifier qu'il démarre (sinon voir les information de
            configuration dans <a class="xref" href=
            "../multimedia/pulseaudio.html" title=
            "PulseAudio-12.2">PulseAudio-12.2</a>) et redémarrez firefox pour
            vérifier que ça fonctionne. Si maintenant ça fonctionne, ajoutez
            ce qui suit à voutr <code class=
            "filename">~/.xinitrc</code>&nbsp;: <span class=
            "phrase"><code class="literal">pulseaudio --verbose
            --log-target=syslog&amp;</code></span> (malheureusement, sur
            certains systèmes cela ne fonctionne pas).
          </p>
          <p>
            Vous pouvez souhaiter utiliser plusieurs profile dans firefox.
            Pour cela, invoquez firefox avec <span class=
            "command"><strong>firefox --ProfileManager</strong></span>. Vous
            pouvez aussi vérifier le profil actuellement utilisé avec
            <span class="command"><strong>about:profiles</strong></span>.
          </p>
        </div>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contenu
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">firefox</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèques installées:</strong>
              <span class="segbody">De nombreuses bibliothèques, composants
              du navigateur, greffons, extensions et modules d'aide dans
              /usr/lib/firefox</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoire installé:</strong>
              <span class="segbody">/usr/lib/firefox et
              /usr/lib/mozilla</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="firefox-prog" name="firefox-prog"></a><span class=
                    "term"><span class=
                    "command"><strong>firefox</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un navigateur internet <span class=
                    "application">GTK+-3</span> qui utilise le moteur de
                    rendu Mozilla Gecko.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2019-02-15 21:01:29 +0000
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="falkon.html" title=
          "Falkon-3.0.1">Précédent</a>
          <p>
            Falkon-3.0.1
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="seamonkey.html" title=
          "SeaMonkey-2.49.4">Suivant</a>
          <p>
            SeaMonkey-2.49.4
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="graphweb.html" title=
          "Chapitre&nbsp;40.&nbsp;Navigateurs Internet graphiques">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà&nbsp;de Linux® From Scratch - Version 8.4">Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
