<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
    <title>
      PulseAudio-12.2
    </title>
    <link rel="stylesheet" type="text/css" href="../stylesheets/lfs.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-8.4">
    <div class="navheader">
      <h4>
        Au-delà&nbsp;de Linux<sup>®</sup> From Scratch - Version 8.4
      </h4>
      <h3>
        Chapitre&nbsp;42.&nbsp;Bibliothèques et pilotes multimédia
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="opus.html" title="Opus-1.3">Précédent</a>
          <p>
            Opus-1.3
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="sbc.html" title="SBC-1.4">Suivant</a>
          <p>
            SBC-1.4
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="libdriv.html" title=
          "Chapitre&nbsp;42.&nbsp;Bibliothèques et pilotes multimédia">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà&nbsp;de Linux® From Scratch - Version 8.4">Sommaire</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="fr" xml:lang="fr">
      <h1 class="sect1">
        <a id="pulseaudio" name="pulseaudio"></a>PulseAudio-12.2
      </h1>
      <div class="package" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Introduction à PulseAudio
        </h2>
        <p>
          Le paquet <span class="application">PulseAudio</span> est un
          système de son pour les systèmes d'exploitation POSIX, ce qui veut
          dire que c'est un proxy pour vos applications de son. Il vous
          permet de faire des tâches avancées sur vos données sonores en
          s'infiltrant entre votre application et votre matériel. Transférer
          le son sur une autre machine, modifier le format d'échantillonnage
          ou le nombre de canaux et mixer plusieurs sons en un, sont des
          tâches faciles avec un serveur de son.
        </p>
        <p>
          Ce paquet est connu pour se construire correctement sur une
          plateforme LFS-8.4.
        </p>
        <h3>
          Informations sur le paquet
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li class="listitem">
              <p>
                Téléchargement (HTTP)&nbsp;: <a class="ulink" href=
                "https://www.freedesktop.org/software/pulseaudio/releases/pulseaudio-12.2.tar.xz">
                https://www.freedesktop.org/software/pulseaudio/releases/pulseaudio-12.2.tar.xz</a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Téléchargement (FTP)&nbsp;: <a class="ulink" href=""></a>
              </p>
            </li>
            <li class="listitem">
              <p>
                Somme de contrôle MD5 du téléchargement&nbsp;:
                c42f1f1465e8df9859d023dc184734bf
              </p>
            </li>
            <li class="listitem">
              <p>
                Taille du téléchargement&nbsp;: 1.6 Mo
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation de l'espace disque requis&nbsp;: 112 Mo (plus 2 Mo
                pour les tests)
              </p>
            </li>
            <li class="listitem">
              <p>
                Estimation du temps de construction&nbsp;: 1.2 SBU (plus 0.7
                SBU pour les tests)
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Dépendances de PulseAudio
        </h3>
        <h4>
          Requises
        </h4>
        <p class="required">
          <a class="xref" href="libsndfile.html" title=
          "libsndfile-1.0.28">libsndfile-1.0.28</a>
        </p>
        <h4>
          Recommandées
        </h4>
        <p class="recommended">
          <a class="xref" href="alsa-lib.html" title=
          "alsa-lib-1.1.8">alsa-lib-1.1.8</a>, <a class="xref" href=
          "../general/dbus.html" title="dbus-1.12.12">dbus-1.12.12</a>,
          <a class="xref" href="../general/glib2.html" title=
          "GLib-2.58.3">GLib-2.58.3</a>, <a class="xref" href=
          "../postlfs/libcap.html" title="libcap-2.26 avec PAM">libcap-2.26
          with PAM</a>, <a class="xref" href="speex.html" title=
          "Speex-1.2.0">Speex-1.2.0</a> et <a class="xref" href=
          "../x/x7lib.html" title="Bibliothèques Xorg">Bibliothèques Xorg</a>
        </p>
        <h4>
          Facultatives
        </h4>
        <p class="optional">
          <a class="xref" href="../basicnet/avahi.html" title=
          "Avahi-0.7">Avahi-0.7</a>, <a class="xref" href=
          "../general/bluez.html" title="BlueZ-5.50">BlueZ-5.50</a>,
          <span class="phrase"><a class="xref" href=
          "../postlfs/consolekit.html" title=
          "ConsoleKit2-1.2.1">ConsoleKit2-1.2.1</a> (à l'exécution),</span>
          <a class="xref" href="../general/fftw.html" title=
          "fftw-3.3.8">fftw-3.3.8</a>, <a class="xref" href=
          "../gnome/GConf.html" title="GConf-3.2.6">GConf-3.2.6</a>,
          <a class="xref" href="../x/gtk3.html" title=
          "GTK+-3.24.5">GTK+-3.24.5</a>, <a class="xref" href=
          "libsamplerate.html" title=
          "libsamplerate-0.1.9">libsamplerate-0.1.9</a>, <a class="xref"
          href="sbc.html" title="SBC-1.4">SBC-1.4</a> (support du Bluetooth),
          <a class="xref" href="../general/valgrind.html" title=
          "Valgrind-3.14.0">Valgrind-3.14.0</a>, <a class="ulink" href=
          "http://www.jackaudio.org/">JACK</a>, <a class="ulink" href=
          "http://0pointer.de/lennart/projects/libasyncns/">libasyncns</a>,
          <a class="ulink" href="http://www.lirc.org/">LIRC</a>, <a class=
          "ulink" href="http://gstreamer.freedesktop.org/src/orc/">ORC</a>,
          <a class="ulink" href=
          "https://sourceforge.net/projects/soxr/">soxr</a>, <a class="ulink"
          href="http://tdb.samba.org/">TDB</a>, <a class="ulink" href=
          "http://freedesktop.org/software/pulseaudio/webrtc-audio-processing/">
          WebRTC AudioProcessing</a> et <a class="ulink" href=
          "http://www.xenproject.org/">XEN</a>
        </p>
        <p class="usernotes">
          Notes utilisateur&nbsp;: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/pulseaudio">http://wiki.linuxfromscratch.org/blfs/wiki/pulseaudio</a>
        </p>
      </div>
      <div class="installation" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Installation de PulseAudio
        </h2>
        <p>
          Installez <span class="application">PulseAudio</span> en lançant
          les commandes suivantes&nbsp;:
        </p>
        <pre class="userinput">
<kbd class="command">./configure --prefix=/usr        \
            --sysconfdir=/etc    \
            --localstatedir=/var \
            --disable-bluez4     \
            --disable-bluez5     \
            --disable-rpath      &amp;&amp;
make</kbd></pre>
        <p>
          Pour tester les résultats lancez&nbsp;: <span class=
          "command"><strong>make check</strong></span>. Le test volume-test
          peut échouer pour des raisons inconnues.
        </p>
        <p>
          Maintenant, en tant qu'utilisateur <code class=
          "systemitem">root</code>&nbsp;:
        </p>
        <pre class="root"><kbd class="command">make install</kbd></pre>
        <p>
          En restant avec l'utilisateur <code class="systemitem">root</code>,
          effacez le fichier de configuration de <span class=
          "application">D-Bus</span> afin d'éviter la création d'utilisateurs
          et de groupes inutiles.
        </p>
        <pre class="root"><kbd class=
        "command">rm -fv /etc/dbus-1/system.d/pulseaudio-system.conf</kbd></pre>
      </div>
      <div class="commands" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Explication des commandes
        </h2>
        <p>
          <em class="parameter"><code>--disable-bluez4</code></em>&nbsp;: Ce
          paramètre désactive le support de <span class=
          "application">BlueZ</span> version 4 en faveur de<span class=
          "application">BlueZ</span> version 5 puisque ce dernier installe
          aussi les bibliothèques de compatibilité avec la version
          précédente.
        </p>
        <p>
          <em class="parameter"><code>--disable-bluez5</code></em>&nbsp;: Ce
          paramètre empêche une erreur d'exécution si <a class="xref" href=
          "../general/dbus.html" title="dbus-1.12.12">dbus-1.12.12</a> et
          <a class="xref" href="sbc.html" title="SBC-1.4">SBC-1.4</a> sont
          tous les deux installés mais que <a class="xref" href=
          "../general/bluez.html" title="BlueZ-5.50">BlueZ-5.50</a> n'est pas
          installé. Supprimez le si vous avez installé les trois paquets.
        </p>
        <p>
          <em class="parameter"><code>--disable-rpath</code></em>&nbsp;: Ce
          paramètre évite que l'éditeur de lien n'ajoute un chemin à
          l'exécution codé en dur dans les programmes et bibliothèques
          installées.
        </p>
      </div>
      <div class="configuration" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Configuration de PulseAudio
        </h2>
        <div class="sect3">
          <h3 class="sect3">
            <a id="pulseaudio-config" name="pulseaudio-config"></a>Fichiers
            de configuration
          </h3>
          <p>
            Il y a les fichiers système principaux pour la
            configuration&nbsp;: <code class=
            "filename">/etc/pulse/daemon.conf</code>, <code class=
            "filename">/etc/pulse/client.conf</code>, <code class=
            "filename">/etc/pulse/default.pa</code>, et les fichiers de
            configuration avec le même nom dans <code class=
            "filename">~/.config/pulse</code>. Les fichiers de configuration
            prennent l'avantage sur ceux du système.
          </p>
        </div>
        <div class="sect3">
          <h3 class="sect3">
            Informations sur la configuration
          </h3>
          <p>
            Les fichiers de configuration permettent d'initialiser une
            installation fonctionnelle. Cependant, une référence à
            Console-Kit doit être supprimée s'il n'est pas installé. Par
            exemple, tapez la commande suivante en tant qu'utilisateur
            <code class="systemitem">root</code>&nbsp;:
          </p>
          <pre class="root"><kbd class=
          "command">sed -i '/load-module module-console-kit/s/^/#/' /etc/pulse/default.pa</kbd></pre>
          <p>
            Vous pouvez également configurer le système audio. Vous pouvez
            démarrer <span class="application">pulseaudio</span> en ligne de
            commande en utilisant. <span class="command"><strong>pulseaudio
            -C</strong></span> et ensuite afficher différentes informations
            et changer quelques réglages. Voir <span class=
            "command"><strong>man pulse-cli-syntax</strong></span>.
          </p>
          <p>
            Si <span class="application">pulseaudio</span> fonctionnait mais
            que vous n'avez plus de son, après avoir vérifié que ce n'est pas
            un problème matériel (enceintes ou casque déconnecté, amplifieur
            externe déconnecté) vous pourriez avoir besoin de corriger le
            problème.
          </p>
          <p>
            Une suggestion est de fermer l'application, comme <span class=
            "application">firefox</span>, où le son ne marche plus, puis
            lancer&nbsp;: <span class="command"><strong>pactl list short
            sinks</strong></span> suivi de&nbsp;: <span class=
            "command"><strong>pacmd set-default-sink &lt;sink
            #&gt;</strong></span> puis relancer l'application.
          </p>
          <p>
            Si cela ne marche pas, une approche plus drastique fonctionne
            souvent. Après avoir fermé l'application, fermez pluseaudio, soit
            en utilisant <span class="command"><strong>pulseaudio
            --kill</strong></span> ou, si cela ne marche pas, <span class=
            "command"><strong>killall -KILL pulseaudio</strong></span> puis
            <span class="command"><strong>rm -rf
            ~/.config/pulse/*</strong></span> (et peut-être aussi
            <span class="command"><strong>rm -rf ~/.pluse/*</strong></span>
            si vous utilisiez une très vieille version de pulse sur cette
            machine) puis en lançant <span class="command"><strong>pulseaudio
            --verbose</strong></span> pour le redémarrer. Si le démon
            démarre, redémarrez l'application. Voyez <span class=
            "command"><strong>man pulseaudio</strong></span> pour plus
            d'options.
          </p>
        </div>
      </div>
      <div class="content" lang="fr" xml:lang="fr">
        <h2 class="sect2">
          Contenu
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Programmes installés:</strong>
              <span class="segbody">esdcompat, pacat, pacmd, pactl, padsp,
              pamon (lien symbolique vers pacat), paplay (lien symbolique
              vers pacat), parec (lien symbolique vers pacat), parecord (lien
              symbolique vers pacat), pasuspender, pax11publish, pulseaudio
              et start-pulseaudio-x11</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Bibliothèques installées:</strong>
              <span class="segbody">libpulse.so libpulse-mainloop-glib.so,
              libpulse-simple.so, libpulsecommon-12.2.so,
              libpulsecore-12.2.so et libpulsedsp.so</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Répertoires installés:</strong>
              <span class="segbody">/etc/pulse, /usr/include/pulse,
              /usr/lib/cmake/PulseAudio, /usr/lib/{pulseaudio,pulse-12.2},
              /usr/libexec/pulse et /usr/share/pulseaudio</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Descriptions courtes
          </h3>
          <table border="0" class="variablelist">
            <colgroup>
              <col align="left" valign="top" />
              <col />
            </colgroup>
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="esdcompat" name="esdcompat"></a><span class=
                    "term"><span class=
                    "command"><strong>esdcompat</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un script enveloppe ESD de <span class=
                    "application">PulseAudio</span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pacat" name="pacat"></a><span class=
                    "term"><span class=
                    "command"><strong>pacat</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Lit ou enregistre des flux audio purs ou encodés sur un
                    serveur de son <span class=
                    "application">PulseAudio</span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pacmd" name="pacmd"></a><span class=
                    "term"><span class=
                    "command"><strong>pacmd</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil pour reconfigurer un serveur de son
                    <span class="application">PulseAudio</span> en cours
                    d'exécution.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pactl" name="pactl"></a><span class=
                    "term"><span class=
                    "command"><strong>pactl</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    contrôle un serveur de son <span class=
                    "application">PulseAudio</span> en fonction
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="padsp" name="padsp"></a><span class=
                    "term"><span class=
                    "command"><strong>padsp</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est une enveloppe OSS <span class=
                    "application">PulseAudio</span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pamon" name="pamon"></a><span class=
                    "term"><span class=
                    "command"><strong>pamon</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un lien symbolique vers <span class=
                    "command"><strong>pacat</strong></span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="paplay" name="paplay"></a><span class=
                    "term"><span class=
                    "command"><strong>paplay</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    lit des fichiers sons sur le serveur de son <span class=
                    "application">PulseAudio</span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="parec" name="parec"></a><span class=
                    "term"><span class=
                    "command"><strong>parec</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un lien symbolique vers <span class=
                    "command"><strong>pacat</strong></span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="parecord" name="parecord"></a><span class=
                    "term"><span class=
                    "command"><strong>parecord</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un lien symbolique vers <span class=
                    "command"><strong>pacat</strong></span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pasuspender" name="pasuspender"></a><span class=
                    "term"><span class=
                    "command"><strong>pasuspender</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil utilisé pour dire à un serveur de son
                    <span class="application">PulseAudio</span> local de
                    suspendre temporairement l'accès aux périphériques sons,
                    afin que d'autres applications puissent y accéder
                    directement.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pax11publish" name="pax11publish"></a><span class=
                    "term"><span class=
                    "command"><strong>pax11publish</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un outil d'autorisations de <span class=
                    "application">PulseAudio</span> pour X11.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pulseaudio-prog" name=
                    "pulseaudio-prog"></a><span class="term"><span class=
                    "command"><strong>pulseaudio</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    est un serveur pour du son en réseau à faible latence
                    sous Linux.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="start-pulseaudio-x11" name=
                    "start-pulseaudio-x11"></a><span class=
                    "term"><span class="command"><strong>start-pulseaudio-x11</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Démarre <span class="application">PulseAudio</span> et
                    l'enregistre dans le gestionnaire de session X11.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2019-02-15 21:01:29 +0000
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="opus.html" title="Opus-1.3">Précédent</a>
          <p>
            Opus-1.3
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="sbc.html" title="SBC-1.4">Suivant</a>
          <p>
            SBC-1.4
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="libdriv.html" title=
          "Chapitre&nbsp;42.&nbsp;Bibliothèques et pilotes multimédia">Niveau
          supérieur</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Au-delà&nbsp;de Linux® From Scratch - Version 8.4">Sommaire</a>
        </li>
      </ul>
    </div>
  </body>
</html>
